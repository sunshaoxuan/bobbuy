---
引用: PROD-02-业务功能详细说明
状态: 草案
生效日期: 2026-01-13
---

# ARCH-04: 客户快速创建与管理详细设计

## 1. 模块概述
本模块负责客户的全生命周期管理。除了满足代购现场的“快速新增”需求外，还需支持客户的“自助管理”、自动凭证生成、以及商客间高效的账号分发机制。

## 2. 身份识别与凭证管理
### 2.1 凭证自动生成机制
为了降低录入负担并确保安全性，系统提供一套自动凭证生成算法：
1.  **登录编码 (Login Identity)**：
    -   **初始生成**：自动随机生成一个 **4 位数字** (例如：`6821`)。
    -   **唯一性检查**：系统确保生成的 4 位数字在全局唯一（若 4 位资源枯竭则自动升级为 5 位）。
    -   **用户修改**：客户首次登录后可自行修改为字母+数字的个性化 ID。
2.  **初始密码 (Easy-to-Remember Password)**：
    -   **生成标准**：自动生成一个 **好记的字母数字组合** (例如：`Agent888`)，而非不可读的乱码。
    -   **稳定性原则**：生成的初始密码在持久化后保持不变，防止商家分发后失效。
    -   **用户修改**：客户登录后拥有完全修改权限。

## 3. 商客凭证分发助手 (Clipboard Helper)
### 3.1 一键复制功能
-   **功能定义**：在商家创建完客户后，界面提供明显的“复制邀请信息”按钮。
-   **复制内容模板**：
    ```text
    【BOBBuy 委托人登录凭证】
    APP下载：[系统预设链接]
    用户名：[自动生成的4位ID或最新ID]
    初始密码：[自动生成的密码]
    送货地址：[AI 标准化地址]
    --------------------------
    请在下载登录后及时修改您的登录 ID 与密码。
    ```

## 4. 客户自助管理与验证机制
### 4.1 敏感信息修改
-   **验证逻辑 (Verification Gateway)**：当客户修改手机或邮箱时，必须通过短信/邮件验证码核验。

## 5. 地址管理系统 (Address Management)
-   支持多地址管理，订单确认时强制选择。

## 6. 技术实现建议
-   **生成器组件**：封装 `CredentialGenerator`，负责碰撞检测与随机种子。
-   **前端交互**：实现 `navigator.clipboard` 接口，支持主流 IM 软排版的复制体验。
