---
引用: PROD-02-业务功能详细说明
状态: 草案
生效日期: 2026-01-13
---

# ARCH-04: 客户快速创建与管理详细设计

## 1. 模块概述
本模块负责客户的全生命周期管理。除了满足代购现场的“快速新增”需求外，还需支持客户的“自助管理”、多维度身份验证、以及复杂的多配送地址场景。

## 2. 身份识别体系 (Identity Framework)
系统为每个客户维护三层标识：
1.  **物理 ID (System ID)**：系统自动生成，物理唯一，不可更改。
2.  **登录编码 (Login Identity)**：客户自行设定的登录凭证，支持修改。
3.  **业务昵称/代号 (Business Nickname)**：商家端的唯一叫法，商家可修改，用于日常沟通识别。

## 3. 客户自助管理与验证机制
### 3.1 敏感信息修改
-   **范围**：登录编码 (Login Identity)、手机号、电子邮箱。
-   **验证逻辑 (Verification Gateway)**：
    -   当客户修改“手机号”或“邮箱”时，系统必须触发 **验证网关** 发送动态验证码。
    -   **流程**：输入新信息 -> 发送验证码 -> 验证通过 -> 数据持久化。
    -   **目的**：确保账户信息的真实性与安全性。

## 4. 地址管理系统 (Address Management)
### 4.1 多地址支持
-   客户可维护多条送货地址条目。
-   **AI 标准化**：每条新增地址均支持自由格式粘贴，由 AI 自动拆分为结构化数据。
-   **默认地址**：支持设置默认地址，简化下单流程。

### 4.2 订单地址绑定逻辑
-   **下单环节**：当预购清单转为“正式订单”前，系统强制客户选择本次服务的“送货地址”。
-   **未来扩展性 (分单预留)**：
    -   系统底层接口已预留“订单分拆方案”。
    -   支持将单一订单中的不同商品行（Line Items）关联到不同的配送地址 ID。

## 5. 快速创建流程 (商家辅助)
-   **UI 入口**：商家在订单确认/采购页可随时弹出“快速新增”弹窗。
-   **初始录入**：仅需录入昵称与 AI 标准化地址，后续可邀请客户登录补全手机/邮箱。

## 6. 技术实现建议
-   **验证中台**：集成第三方验证组件（如云通讯、SES 等）。
-   **原子性保证**：修改敏感信息时，需满足分布式事务的原子性，确保验证状态与元数据同步更新。
