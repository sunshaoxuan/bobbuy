---
引用: PROD-02-业务功能详细说明, ARCH-02-参与者管理与身份认证详细设计
状态: 草案
生效日期: 2026-01-13
---

# ARCH-08: 智能路径规划与配送导航详细设计

## 1. 模块概述
本模块利用地理信息服务，对行程任务中的多地址配送需求进行路径最优化计算，旨在降低商家的配送油耗与时间成本。

## 2. 智能规划引擎 (Routing Engine)
### 2.1 节点管理
-   **源数据**：从待交付子单中自动解析 [ARCH-02](ARCH-02-参与者管理与身份认证详细设计.md) 已标准化的经纬度坐标。
-   **约束条件**：支持商家设定“最迟到达时间”或“派送优先级”权重。

### 2.2 最优路径计算 (Multi-point Optimization)
-   基于 **TSP (旅行商问题)** 算法逻辑。
-   利用 Google Maps `Routes API` 或 Apple Maps 设计多点最优排序流程。
-   **刷新机制**：支持配送过程中因实际路况变化造成的实时路径重规划。

## 3. 导航导出与应用 (Integration)
### 3.1 外部唤起
-   支持一键将计算排序后的“经由点”集合导出至以下应用：
    -   Google Maps (Deep Link 跳转)。
    -   Apple Maps。
    -   Waze (本地高频导航)。

## 4. 关键体验设计
-   **全屏预览图**：展示所有配送点的物理分布。
-   **有序列表卡片**：按顺序展示配送节点及预估距离。
-   **动态打勾**：配送完成一个点，手动勾选，路径自动更新剩余路程。
