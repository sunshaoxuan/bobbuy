# STD-06: 集成测试五步法

**生效日期**: 2026-01-13
**状态**: 执行中

---

## 1. 概述

本文档定义了集成测试的标准操作流程（SOP）。为确保测试结果的准确性和环境的稳定性，所有开发人员在进行集成测试时**必须**严格遵守本规范。

> **强制要求 (For Agent)**: AI Agent 在执行涉及 "Start/Verify/Test" 的任务时，**必须** 调用 Skill 工具 `std_06_integrated_test`。禁止跳过五步法中的任何步骤。

## 2. 核心原则（铁律）

集成测试必须遵循以下 **5步铁律**，缺一不可：

1.  **清理环境**：关闭所有可能冲突的后台进程，释放必要的通信端口。
2.  **静态验证**：在启动应用前，执行静态代码检查、单元测试和资源合规扫描。
3.  **启动环境**：以标准配置启动完整的测试运行环境。
4.  **执行测试**：运行自动化测试脚本或执行业务验证用例。
5.  **结束清理**：测试结束后，无论成功或失败，必须彻底关闭并清理测试环境。

## 3. 详细流程

### 3.1 第一步：清理环境 (Clean)
**目的**: 消除残留进程和文件锁定，确保测试环境纯度。
**操作**: 检查并终止占用预定端口的所有相关进程。

### 3.2 第二步：静态验证 (Verify)
**目的**: 在运行应用之前，确保代码质量达标，避免在有缺陷的基础上进行集成测试。
**操作**: 运行静态质量验证工具，结果必须为 **PASS** 方可继续。

### 3.3 第三步：启动测试环境 (Start)
**目的**: 建立受控的测试执行环境。
**操作**: 使用标准环境启动机制，并等待所有服务节点进入就绪状态（健康检查通过）。

### 3.4 第四步：执行测试 (Test)
**目的**: 验证业务逻辑和系统集成点。
**操作**: 执行预定义的测试集，并详细记录测试轨迹与结果快照。

### 3.5 第五步：结束清理 (Shutdown)
**目的**: 释放系统资源，防止环境污染影响后续操作。
**操作**: 彻底停止所有运行节点，清理临时产生的数据和缓存。

---
**严格遵守以上规范，确保测试的系统性与排他性！**
