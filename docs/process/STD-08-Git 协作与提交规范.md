# STD-08: Git 协作与提交规范

**版本**: 1.0
**生效日期**: 2026-01-13
**状态**: 执行中

---

## 1. 提交铁律 (The Iron Rules)

遵循项目核心宪法，所有开发人员必须执行：

- ✅ **立即同步**: 所有的代码、文档修改在验证通过后，必须立即进行 Git 提交并推送到远程仓库。
- ✅ **立即清理**: 任务结束时必须清理所有的临时文件、垃圾文件或调试产物，严禁将“垃圾”提交入库。

## 2. 提交消息格式

使用语义化化提交格式：`<type>(<scope>): <subject>`

- **type**:
    - `feat`: 新增功能。
    - `fix`: 修复缺陷。
    - `docs`: 仅文档变更。
    - `refactor`: 重构（既非新增也非修复）。
    - `chore`: 构建过程或辅助工具的变动。
- **subject**: 简明扼要的中文描述。

**示例**: `feat(auth): 增加基于令牌的身份验证机制`

## 3. 忽略规则 (.gitignore)

严禁提交以下内容：
- 构建产物（`bin/`, `obj/`, `dist/`）。
- 本地环境配置文件（`.env.local`, `*.local.json`）。
- IDE 自动生成的私有配置（`.vs/`, `.vscode/`）。
- 临时日志或扫描结果。

## 4. GitHub Actions CI/CD 流程铁律

本项目使用 **GitHub Actions** 作为唯一的自动化集成与部署平台（定型选型）。

- 🛡️ **CI 优先原则**：所有的代码推送（Push）必须保证 GitHub Actions 中的 CI 流水线（Lint, Build, Test）处于 **PASS** 状态。
- 🛡️ **禁止强制推送 (Force Push)**：禁止对 `main` 分支进行 `--force` 操作。
- 🛡️ **部署准则**：仅在 `main` 分支合并且测试通过后，方可触发向 Staging/Prod 环境的自动部署。

## 5. 协作 SOP

1. **Pull**: 开始工作前先同步远程代码。
2. **Commit**: 频繁提交小粒度的变更，消息须符合语义化规范。
3. **Verify**: 本地预检通过。
4. **Push**: 提交后立即推送至远程。
5. **CI Check**: 登录 GitHub 观察 Actions 流水线，如遇失败必须立即原地修复并再次推送，直至 **✅ Passed**。
6. **Clean**: 确认工作环境无残留临时文件。

---
**良好的代码管理习惯与自动化的 CI 流水线是项目质量的生命线。**
